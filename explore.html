<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prophecy Tablet - Explore</title>
    <link rel="stylesheet" href="style.css">
    <link id="dynamic-favicon" rel="icon" href="data:image/svg+xml,">
    <script src="theme-loader.js" defer></script>
    <script src="api.js" defer></script>
    <script src="puzzle-core.js" defer></script>
    <script src="puzzle-gameplay.js" defer></script>
    <script src="explore.js" defer></script>
    <script src="theme.js" defer></script>
    <script src="https://kit.fontawesome.com/c4e0b1b67d.js" crossorigin="anonymous" async></script>
</head>

<body>
    <header class="top-navbar">
        <a href="index.html" class="navbar-brand">
            <div>
                <svg viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg" class="navbar-logo" role="img"
                    aria-label="Prophecy Tablet Logo">
                    <polygon points="0,200 100,100 100,200" fill="currentColor" shape-rendering="crispEdges" />
                    <polygon points="400,200 300,100 300,200" fill="currentColor" shape-rendering="crispEdges" />
                    <polygon points="100,0 300,0 300,100 200,200 100,100" fill="currentColor"
                        shape-rendering="crispEdges" />
                </svg>
                <span class="navbar-title">Prophecy Tablet</span>
            </div>
        </a>
        <nav class="navbar-links">
            <a href="index.html"><span data-hover="Archive">Archive</span></a>
            <a href="explore.html" class="active"><span data-hover="Explore">Explore</span></a>
            <a href="create.html"><span data-hover="Create">Create</span></a>
        </nav>
        <div class="navbar-controls">
            <div class="theme-selector-container">
                <button id="theme-selector-button" class="icon-button" aria-label="Select Theme">
                    <i class="fa-solid fa-palette"></i>
                </button>
                <div id="theme-dropdown" class="theme-dropdown">
                    <div class="theme-dropdown-column">
                        <div class="theme-column-header">Dark</div>
                        <button class="theme-option" data-theme="default">Default</button>
                        <button class="theme-option" data-theme="mydei">Mydei</button>
                        <button class="theme-option" data-theme="dhpt">DHPT</button>
                        <button class="theme-option" data-theme="anaxa">Anaxa</button>
                        <button class="theme-option" data-theme="cerydra">Cerydra</button>
                        <button class="theme-option" data-theme="hysilens">Hysilens</button>
                        <button class="theme-option" data-theme="cipher">Cipher</button>
                        <button class="theme-option" data-theme="evernight">Evernight</button>
                        <button class="theme-option" data-theme="hyacine">Hyacine</button>
                    </div>
                    <div class="theme-dropdown-column">
                        <div class="theme-column-header">Light</div>
                        <button class="theme-option" data-theme="tribbie">Tribbie</button>
                        <button class="theme-option" data-theme="aglaea">Aglaea</button>
                        <button class="theme-option" data-theme="phainon">Phainon</button>
                        <button class="theme-option" data-theme="castorice">Castorice</button>
                        <button class="theme-option" data-theme="cyrene">Cyrene</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <!-- Grid View -->
        <div id="explore-grid-view">
            <div class="explore-controls">
                <div class="search-box">
                    <i class="fa-solid fa-search"></i>
                    <input type="text" id="search-input" placeholder="Search puzzles...">
                </div>
                <div class="filter-controls">
                    <select id="sort-select">
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                        <option value="mostLikes">Most Likes</option>
                        <option value="leastLikes">Least Likes</option>
                        <option value="mostPlayed">Most Played</option>
                        <option value="leastPlayed">Least Played</option>
                    </select>
                    <select id="time-select">
                        <option value="all">All Time</option>
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month">This Month</option>
                    </select>
                    <select id="played-filter">
                        <option value="all">All Puzzles</option>
                        <option value="unplayed">Unplayed</option>
                        <option value="played">Played</option>
                    </select>
                </div>
            </div>
            <div id="explore-grid" class="explore-grid">
                <!-- Puzzles will be loaded here by explore.js -->
            </div>
            <p id="no-puzzles-message" class="no-puzzles-message" style="display: none;">No puzzles found. Be the first
                to create one!</p>
        </div>

        <!-- Gameplay View (hidden by default) -->
        <div id="explore-gameplay-view" class="main-content" style="display: none;">
            <div class="canvas-container" id="reference-container-wrapper">
                <canvas id="reference-canvas"></canvas>
            </div>

            <div class="canvas-container" id="puzzle-container-wrapper">
                <canvas id="puzzle-canvas"></canvas>
            </div>

            <div class="puzzle-info">
                <div class="puzzle-info-buttons">
                    <button id="back-to-grid-button" class="button primary-button">Back to Explore</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Completion Modal -->
    <div class="modal" id="completion-modal">
        <div class="modal-content">
            <button class="modal-close-button" id="close-completion-x-button">&times;</button>
            <p class="modal-header">Puzzle Complete</p>
            <div class="modal-stats">
                <div class="stat-item">
                    <span class="stat-label">Time</span>
                    <span id="time-taken" class="stat-value"></span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Moves</span>
                    <span id="moves-made" class="stat-value"></span>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="play-again-button" class="button secondary-button">Reset</button>
                <button id="back-to-explore-button" class="button primary-button">Explore</button>
            </div>
        </div>
    </div>

</body>

</html>